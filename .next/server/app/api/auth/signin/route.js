(()=>{var e={};e.id=338,e.ids=[338],e.modules={3040:(e,t,r)=>{"use strict";r.d(t,{q:()=>a});var s=r(56037),n=r.n(s);let i=process.env.MONGODB_URI;async function a(){n().connections[0].readyState||await n().connect(i)}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>h,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{POST:()=>d});var n=r(96559),i=r(48088),a=r(37719),o=r(3040),u=r(32170),p=r(85663);async function d(e){try{let{email:t,password:r}=await e.json();await (0,o.q)(),console.log("connection sucessfull");let s=await u.K.findOne({email:t});if(!s)return new Response(JSON.stringify({message:"User not found"}),{status:404});if(!await p.Ay.compare(r,s.hashedPassword))return new Response(JSON.stringify({message:"Invalid password"}),{status:401});return new Response(JSON.stringify({message:"Login successful",user:s}),{status:200})}catch(e){return new Response(JSON.stringify({message:"Login error",error:e}),{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/auth/signin/route",pathname:"/api/auth/signin",filename:"route",bundlePath:"app/api/auth/signin/route"},resolvedPagePath:"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\api\\auth\\signin\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:m}=c;function h(){return(0,a.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32170:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var s=r(56037),n=r.n(s);let i=new(n()).Schema({name:{type:String,required:!0},email:{type:String,unique:!0,required:!0},hashedPassword:{type:String,default:null},oauthProvider:{type:String,default:null},oauthId:{type:String,default:null},role:{type:String,enum:["user","admin"],default:"user"},avatar:{type:String,default:null}},{timestamps:!0}),a=n().models.User||n().model("User",i)},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{},96559:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,663],()=>r(12770));module.exports=s})();