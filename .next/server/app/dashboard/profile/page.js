(()=>{var e={};e.id=399,e.ids=[399],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13256:(e,r,t)=>{"use strict";t.d(r,{default:()=>f});var a=t(60687),o=t(43210),s=t(85814),n=t.n(s),l=t(16189),i=t(62688);let d=(0,i.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),u=(0,i.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,i.A)("megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),p=(0,i.A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var h=t(11860),c=t(12941);function f(){let[e,r]=(0,o.useState)(!1),t=(0,l.usePathname)(),s=(0,o.useRef)(null),i=()=>{r(!1)};return(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-3",children:[(0,a.jsx)("div",{ref:s,className:`flex flex-col gap-2 transform transition-all duration-300 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-4 pointer-events-none"}`,children:[{label:"Home",href:"/dashboard",icon:d},{label:"Profile",href:"/dashboard/profile",icon:u},{label:"Campaigns",href:"/dashboard/campaigns",icon:m},{label:"Add Campaign",href:"/dashboard/create",icon:p}].map(({label:e,href:r,icon:o})=>{let s=t===r;return(0,a.jsxs)(n(),{href:r,onClick:i,className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-md text-sm transition-transform transform ${s?"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 hover:shadow-lg":"bg-white text-gray-800 hover:bg-gray-100 hover:scale-105 hover:shadow-lg"}`,children:[(0,a.jsx)(o,{size:20,color:s?"white":"black"}),(0,a.jsx)("span",{children:e})]},e)})}),(0,a.jsx)("button",{onClick:()=>r(e=>!e),className:"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition","aria-label":e?"Close menu":"Open menu",children:e?(0,a.jsx)(h.A,{size:24}):(0,a.jsx)(c.A,{size:24})})]})}},16189:(e,r,t)=>{"use strict";var a=t(65773);t.o(a,"redirect")&&t.d(r,{redirect:function(){return a.redirect}}),t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},17767:(e,r,t)=>{Promise.resolve().then(t.bind(t,30262))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30262:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(60687),o=t(82136),s=t(43210);function n(){let{data:e}=(0,o.useSession)(),r=e?.user?.id??null,[t,n]=(0,s.useState)({name:"",email:"",phone:"",avatarUrl:""}),[l,i]=(0,s.useState)({name:"",email:"",phone:""}),[d,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),[h,c]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!0),v=e=>{i({...l,[e.target.name]:e.target.value})},y=()=>{u(null),p(null),c(!0)},w=async e=>{if(e.preventDefault(),!f)return;let t=new FormData;t.append("name",l.name),t.append("email",l.email),t.append("phone",l.phone||""),t.append("removeAvatar",h.toString()),d&&t.append("avatar",d);try{let e=await fetch(`/api/users/${r}`,{method:"PUT",body:t});if(!e.ok)throw Error("Failed to update profile");let a=await e.json();n({name:a.name||"",email:a.email||"",phone:a.phone||"",avatarUrl:a.avatar||""}),u(null),p(null),c(!1),b(!1),alert("Profile updated! You will be signed out."),await (0,o.signOut)({callbackUrl:"/signin"})}catch(e){console.error(e),alert("Error updating profile.")}};return x?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,a.jsx)("div",{className:"loader"})}):(0,a.jsxs)("div",{className:"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-md mt-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Your Profile"}),(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(()=>{if(h){let e=t.name?.charAt(0).toUpperCase()||"U";return(0,a.jsx)("div",{className:"w-24 h-24 flex items-center justify-center bg-yellow-500 text-white text-2xl font-bold rounded-full",children:e})}let e=m||t.avatarUrl;if(e)return(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("img",{src:e,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-2 border-blue-600"}),(0,a.jsx)("button",{type:"button",onClick:y,className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-2 py-0.5 rounded-full shadow hover:bg-red-700","aria-label":"Remove avatar",children:"âœ•"})]});let r=t.name?.charAt(0).toUpperCase()||"U";return(0,a.jsx)("div",{className:"w-24 h-24 flex items-center justify-center bg-yellow-500 text-white text-2xl font-bold rounded-full",children:r})})(),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-medium",children:t.name}),(0,a.jsx)("p",{className:"text-gray-600",children:t.email})]})]}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4 max-w-md",encType:"multipart/form-data",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"avatar",className:"block font-medium mb-1",children:"Profile Image"}),(0,a.jsx)("input",{type:"file",id:"avatar",name:"avatar",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];u(r),p(URL.createObjectURL(r)),c(!1)}},className:"w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block font-medium mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:l.name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block font-medium mb-1",children:"Phone Number"}),(0,a.jsx)("input",{type:"text",id:"phone",name:"phone",value:l.phone||"",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsx)("button",{type:"submit",className:`px-4 py-2 rounded-md transition font-medium ${f?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!f,children:"Save Changes"})]})]})}},32594:(e,r,t)=>{Promise.resolve().then(t.bind(t,67866))},33873:e=>{"use strict";e.exports=require("path")},39304:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DAY\\\\OneDrive\\\\Desktop\\\\Neighborhood\\\\neighborhood-empowerment-funds\\\\app\\\\dashboard\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\profile\\page.tsx","default")},56154:(e,r,t)=>{Promise.resolve().then(t.bind(t,13256))},57935:(e,r,t)=>{Promise.resolve().then(t.bind(t,39304))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67866:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DAY\\\\OneDrive\\\\Desktop\\\\Neighborhood\\\\neighborhood-empowerment-funds\\\\app\\\\dashboard\\\\components\\\\FloatingNavMenu.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\components\\FloatingNavMenu.tsx","default")},81583:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>u,routeModule:()=>p,tree:()=>d});var a=t(65239),o=t(48088),s=t(88170),n=t.n(s),l=t(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d={children:["",{children:["dashboard",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39304)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,83249)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\profile\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/dashboard/profile/page",pathname:"/dashboard/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},83249:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>s});var a=t(37413),o=t(67866);let s={title:"Dashboard",description:"A platform that empowers communities to raise funds and support meaningful causes."};function n({children:e}){return(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(o.default,{})]})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[7719,2732,3430],()=>t(81583));module.exports=a})();