(()=>{var e={};e.id=105,e.ids=[105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,t,n)=>{"use strict";var a=n(65773);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33111:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=n(65239),i=n(48088),r=n(88170),s=n.n(r),l=n(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,64118)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,58014)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\page.tsx"],p={require:n,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33873:e=>{"use strict";e.exports=require("path")},39892:(e,t,n)=>{Promise.resolve().then(n.bind(n,70476))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63860:(e,t,n)=>{Promise.resolve().then(n.bind(n,64118))},64118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let a=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DAY\\\\OneDrive\\\\Desktop\\\\Neighborhood\\\\neighborhood-empowerment-funds\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\page.tsx","default")},70476:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(60687),i=n(82136),r=n(16189),s=n(43210);function l(){let e=(0,r.useRouter)(),[t,n]=(0,s.useState)(!1),[i,l]=(0,s.useState)({title:"",description:"",logoFile:null,galleryFiles:[],fundingTarget:"",amountRaised:"0",investorCount:"0",equityOffered:"",preMoneyValuation:"",sharePrice:"",additionalInvestment:"",website:"",companiesHouseLink:"",linkedinLink:"",instagramLink:"",facebookLink:"",sections:[{title:"",description:""}],deadline:"",categories:[""],valueHighlights:[""]}),o=e=>{let{name:t,value:n}=e.target;l(e=>({...e,[t]:n}))},d=(e,t)=>{let n=e.target.files;n&&("galleryFiles"===t?l(e=>({...e,galleryFiles:[...e.galleryFiles,...Array.from(n)]})):l(e=>({...e,logoFile:n[0]||null})))},c=(e,t,n)=>{let a=[...i.sections];a[e][t]=n,l(e=>({...e,sections:a}))},p=()=>{l(e=>({...e,sections:[...e.sections,{title:"",description:""}]}))},u=e=>{l(t=>({...t,sections:t.sections.filter((t,n)=>n!==e)}))},m=(e,t)=>{let n=[...i.categories];n[e]=t,l(e=>({...e,categories:n}))},h=()=>{l(e=>({...e,categories:[...e.categories,""]}))},g=e=>{l(t=>({...t,categories:t.categories.filter((t,n)=>n!==e)}))},b=(e,t)=>{let n=[...i.valueHighlights];n[e]=t,l(e=>({...e,valueHighlights:n}))},x=()=>{l(e=>({...e,valueHighlights:[...e.valueHighlights,""]}))},f=e=>{l(t=>({...t,valueHighlights:t.valueHighlights.filter((t,n)=>n!==e)}))},v=async t=>{t.preventDefault(),n(!0);let a=new FormData;a.append("title",i.title),a.append("description",i.description),a.append("fundingTarget",i.fundingTarget),a.append("equityOffered",i.equityOffered),a.append("preMoneyValuation",i.preMoneyValuation),a.append("sharePrice",i.sharePrice),a.append("additionalInvestment",i.additionalInvestment),a.append("website",i.website),a.append("companiesHouseLink",i.companiesHouseLink),a.append("linkedinLink",i.linkedinLink),a.append("instagramLink",i.instagramLink),a.append("facebookLink",i.facebookLink),a.append("deadline",i.deadline),i.logoFile&&a.append("logoFile",i.logoFile),i.galleryFiles.forEach(e=>a.append("galleryFiles",e)),a.append("categories",JSON.stringify(i.categories)),a.append("sections",JSON.stringify(i.sections)),a.append("valueHighlights",JSON.stringify(i.valueHighlights));try{if(Object.entries(i).forEach(([e,t])=>{console.log(e,t)}),!(await fetch("/api/campaigns",{method:"POST",body:a})).ok)throw Error("Failed to create campaign");alert("Campaign created successfully!"),e.push("/dashboard")}catch(e){console.error(e),alert("Error creating campaign")}finally{n(!1)}};return(0,a.jsxs)("form",{onSubmit:v,className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg space-y-6",noValidate:!0,children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Create Campaign"}),(0,a.jsx)("input",{name:"title",placeholder:"Campaign Title",value:i.title,onChange:o,className:"input input-bordered w-full",required:!0}),(0,a.jsx)("textarea",{name:"description",placeholder:"Description",value:i.description,onChange:o,className:"input input-bordered w-full min-h-[100px]",required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Logo Upload"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>d(e,"logoFile"),className:"input input-bordered w-full",required:!0}),i.logoFile&&(0,a.jsx)("img",{src:URL.createObjectURL(i.logoFile),alt:"Logo preview",className:"h-24 mt-3 rounded-md object-contain"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("input",{name:"fundingTarget",placeholder:"Funding Target",type:"number",value:i.fundingTarget,onChange:o,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"equityOffered",placeholder:"Equity Offered (%)",type:"number",value:i.equityOffered,onChange:o,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"preMoneyValuation",placeholder:"Pre-money Valuation",type:"number",value:i.preMoneyValuation,onChange:o,className:"input input-bordered",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("input",{name:"sharePrice",placeholder:"Share Price",type:"number",value:i.sharePrice,onChange:o,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"additionalInvestment",placeholder:"Additional Investment",type:"number",value:i.additionalInvestment,onChange:o,className:"input input-bordered"}),(0,a.jsx)("input",{name:"deadline",type:"date",value:i.deadline,onChange:o,className:"input input-bordered",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("input",{name:"website",placeholder:"Website URL",value:i.website,onChange:o,className:"input input-bordered"}),(0,a.jsx)("input",{name:"companiesHouseLink",placeholder:"Companies House Link",value:i.companiesHouseLink,onChange:o,className:"input input-bordered"}),(0,a.jsx)("input",{name:"linkedinLink",placeholder:"LinkedIn",value:i.linkedinLink,onChange:o,className:"input input-bordered"}),(0,a.jsx)("input",{name:"instagramLink",placeholder:"Instagram",value:i.instagramLink,onChange:o,className:"input input-bordered"}),(0,a.jsx)("input",{name:"facebookLink",placeholder:"Facebook",value:i.facebookLink,onChange:o,className:"input input-bordered"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Gallery Image Upload"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>d(e,"galleryFiles"),className:"input input-bordered w-full"}),i.galleryFiles.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-3",children:i.galleryFiles.map((e,t)=>(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:`Gallery ${t}`,className:"h-24 rounded-md object-cover"},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Key Highlights"}),i.valueHighlights.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Highlight",value:e,onChange:e=>b(t,e.target.value),className:"input input-bordered flex-grow"}),(0,a.jsx)("button",{type:"button",onClick:()=>f(t),className:"btn btn-error btn-sm px-3 h-8 rounded","aria-label":`Remove highlight ${t+1}`,disabled:1===i.valueHighlights.length,children:"−"}),t===i.valueHighlights.length-1&&(0,a.jsx)("button",{type:"button",onClick:x,className:"btn btn-outline btn-sm px-3 h-8 rounded","aria-label":"Add highlight",children:"+"})]},t))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Sections"}),i.sections.map((e,t)=>(0,a.jsxs)("div",{className:"border p-4 mb-4 rounded-md",children:[(0,a.jsx)("input",{type:"text",placeholder:"Section Title",value:e.title,onChange:e=>c(t,"title",e.target.value),className:"input input-bordered w-full mb-2",required:!0}),(0,a.jsx)("textarea",{placeholder:"Section Description",value:e.description,onChange:e=>c(t,"description",e.target.value),className:"input input-bordered w-full min-h-[80px]",required:!0}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>u(t),className:"btn btn-error btn-sm",disabled:1===i.sections.length,children:"Remove Section"}),t===i.sections.length-1&&(0,a.jsx)("button",{type:"button",onClick:p,className:"btn btn-outline btn-sm",children:"Add Section"})]})]},t))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Categories"}),i.categories.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Category",value:e,onChange:e=>m(t,e.target.value),className:"input input-bordered flex-grow"}),(0,a.jsx)("button",{type:"button",onClick:()=>g(t),className:"btn btn-error btn-sm px-3 h-8 rounded","aria-label":`Remove category ${t+1}`,disabled:1===i.categories.length,children:"−"}),t===i.categories.length-1&&(0,a.jsx)("button",{type:"button",onClick:h,className:"btn btn-outline btn-sm px-3 h-8 rounded","aria-label":"Add category",children:"+"})]},t))]}),(0,a.jsx)("button",{type:"submit",className:`btn btn-primary w-full py-3 text-lg font-semibold ${t?"loading":""}`,disabled:t,children:t?"Creating...":"Create Campaign"})]})}function o(){let{data:e,status:t}=(0,i.useSession)();(0,r.useRouter)();let[n,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0);return"loading"===t||d?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,a.jsx)("div",{className:"loader"})}):n?(0,a.jsxs)("div",{className:"min-h-screen p-8 bg-gray-50",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Dashboard"}),(0,a.jsx)("p",{className:"mb-2",children:n.welcomeMessage}),(0,a.jsxs)("p",{children:["Email: ",n.email]}),(0,a.jsxs)("p",{children:["Role: ",n.role]}),(0,a.jsx)(l,{})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-red-600",children:"Failed to load your dashboard data."})})}}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[719,623,126],()=>n(33111));module.exports=a})();