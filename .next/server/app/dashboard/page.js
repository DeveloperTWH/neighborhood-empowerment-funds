(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={208:(e,t,r)=>{Promise.resolve().then(r.bind(r,33704))},1303:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9936:(e,t,r)=>{Promise.resolve().then(r.bind(r,38186))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},16189:(e,t,r)=>{"use strict";var a=r(65773);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32594:(e,t,r)=>{Promise.resolve().then(r.bind(r,67866))},33111:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var a=r(65239),n=r(48088),s=r(88170),i=r.n(s),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64118)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,83249)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33704:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DAY\\\\OneDrive\\\\Desktop\\\\Neighborhood\\\\neighborhood-empowerment-funds\\\\app\\\\dashboard\\\\components\\\\CreateCampaignForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\components\\CreateCampaignForm.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},35333:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(60687),n=r(43210),s=r(85814),i=r.n(s),o=r(16189),l=r(62688);let d=(0,l.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),u=(0,l.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=(0,l.A)("megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var c=r(1303),h=r(11860),m=r(12941);function g(){let[e,t]=(0,n.useState)(!1),r=(0,o.usePathname)(),s=(0,n.useRef)(null),l=[{label:"Home",href:"/dashboard",icon:d},{label:"Profile",href:"/dashboard/profile",icon:u},{label:"Campaigns",href:"/dashboard/campaigns",icon:p},{label:"Add Campaign",href:"/dashboard/create",icon:c.A}],g=()=>{t(!1)};return(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-3",children:[(0,a.jsx)("div",{ref:s,className:`flex flex-col gap-2 transform transition-all duration-300 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-4 pointer-events-none"}`,children:l.map(({label:e,href:t,icon:n})=>{let s=r===t;return(0,a.jsxs)(i(),{href:t,onClick:g,className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-md text-sm transition-transform transform ${s?"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 hover:shadow-lg":"bg-white text-gray-800 hover:bg-gray-100 hover:scale-105 hover:shadow-lg"}`,children:[(0,a.jsx)(n,{size:20,color:s?"white":"black"}),(0,a.jsx)("span",{children:e})]},e)})}),(0,a.jsx)("button",{onClick:()=>t(e=>!e),className:"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition","aria-label":e?"Close menu":"Open menu",children:e?(0,a.jsx)(h.A,{size:24}):(0,a.jsx)(m.A,{size:24})})]})}},38186:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(60687),n=r(43210),s=r(16189),i=r(82136);function o(){let e=(0,s.useRouter)(),{data:t}=(0,i.useSession)(),[r,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)({title:"",description:"",logoFile:null,galleryFiles:[],fundingTarget:"",amountRaised:"0",investorCount:"0",equityOffered:"",preMoneyValuation:"",sharePrice:"",additionalInvestment:"",website:"",companiesHouseLink:"",linkedinLink:"",instagramLink:"",facebookLink:"",sections:[{title:"",description:""}],deadline:"",categories:[""],valueHighlights:[""]}),u=e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))},p=(e,t)=>{let r=e.target.files;r&&("galleryFiles"===t?d(e=>({...e,galleryFiles:[...e.galleryFiles,...Array.from(r)]})):d(e=>({...e,logoFile:r[0]||null})))},c=(e,t,r)=>{let a=[...l.sections];a[e][t]=r,d(e=>({...e,sections:a}))},h=()=>{d(e=>({...e,sections:[...e.sections,{title:"",description:""}]}))},m=e=>{d(t=>({...t,sections:t.sections.filter((t,r)=>r!==e)}))},g=(e,t)=>{let r=[...l.categories];r[e]=t,d(e=>({...e,categories:r}))},b=()=>{d(e=>({...e,categories:[...e.categories,""]}))},x=e=>{d(t=>({...t,categories:t.categories.filter((t,r)=>r!==e)}))},f=(e,t)=>{let r=[...l.valueHighlights];r[e]=t,d(e=>({...e,valueHighlights:r}))},v=()=>{d(e=>({...e,valueHighlights:[...e.valueHighlights,""]}))},y=e=>{d(t=>({...t,valueHighlights:t.valueHighlights.filter((t,r)=>r!==e)}))},k=async r=>{if(r.preventDefault(),o(!0),!t?.user?.id){alert("You must be signed in to create a campaign."),o(!1);return}let a=new FormData;a.append("title",l.title),a.append("description",l.description),a.append("fundingTarget",l.fundingTarget),a.append("equityOffered",l.equityOffered),a.append("preMoneyValuation",l.preMoneyValuation),a.append("sharePrice",l.sharePrice),a.append("additionalInvestment",l.additionalInvestment),a.append("website",l.website),a.append("companiesHouseLink",l.companiesHouseLink),a.append("linkedinLink",l.linkedinLink),a.append("instagramLink",l.instagramLink),a.append("facebookLink",l.facebookLink),a.append("deadline",l.deadline),a.append("amountRaised",l.amountRaised),a.append("investorCount",l.investorCount),a.append("ownerId",t.user.id),l.logoFile&&a.append("logoFile",l.logoFile),l.galleryFiles.forEach(e=>a.append("galleryFiles",e)),a.append("categories",JSON.stringify(l.categories)),a.append("sections",JSON.stringify(l.sections)),a.append("valueHighlights",JSON.stringify(l.valueHighlights));try{if(!(await fetch("/api/campaigns",{method:"POST",body:a})).ok)throw Error("Failed to create campaign");alert("Campaign created successfully!"),e.push("/dashboard"),e.refresh()}catch(e){console.error(e),alert("Error creating campaign")}finally{o(!1)}};return(0,a.jsxs)("form",{onSubmit:k,className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg space-y-6",noValidate:!0,children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Create Campaign"}),(0,a.jsx)("input",{name:"title",placeholder:"Campaign Title",value:l.title,onChange:u,className:"input input-bordered w-full",required:!0}),(0,a.jsx)("textarea",{name:"description",placeholder:"Description",value:l.description,onChange:u,className:"input input-bordered w-full min-h-[100px]",required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Logo Upload"}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>p(e,"logoFile"),className:"input input-bordered w-full",required:!0}),l.logoFile&&(0,a.jsx)("img",{src:URL.createObjectURL(l.logoFile),alt:"Logo preview",className:"h-24 mt-3 rounded-md object-contain"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("input",{name:"fundingTarget",placeholder:"Funding Target",type:"number",value:l.fundingTarget,onChange:u,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"equityOffered",placeholder:"Equity Offered (%)",type:"number",value:l.equityOffered,onChange:u,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"preMoneyValuation",placeholder:"Pre-money Valuation",type:"number",value:l.preMoneyValuation,onChange:u,className:"input input-bordered",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("input",{name:"sharePrice",placeholder:"Share Price",type:"number",value:l.sharePrice,onChange:u,className:"input input-bordered",required:!0}),(0,a.jsx)("input",{name:"additionalInvestment",placeholder:"Additional Investment",type:"number",value:l.additionalInvestment,onChange:u,className:"input input-bordered"}),(0,a.jsx)("input",{name:"deadline",type:"date",value:l.deadline,onChange:u,className:"input input-bordered",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("input",{name:"website",placeholder:"Website URL",value:l.website,onChange:u,className:"input input-bordered"}),(0,a.jsx)("input",{name:"companiesHouseLink",placeholder:"Companies House Link",value:l.companiesHouseLink,onChange:u,className:"input input-bordered"}),(0,a.jsx)("input",{name:"linkedinLink",placeholder:"LinkedIn",value:l.linkedinLink,onChange:u,className:"input input-bordered"}),(0,a.jsx)("input",{name:"instagramLink",placeholder:"Instagram",value:l.instagramLink,onChange:u,className:"input input-bordered"}),(0,a.jsx)("input",{name:"facebookLink",placeholder:"Facebook",value:l.facebookLink,onChange:u,className:"input input-bordered"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Gallery Image Upload"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>p(e,"galleryFiles"),className:"input input-bordered w-full"}),l.galleryFiles.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-3",children:l.galleryFiles.map((e,t)=>(0,a.jsx)("img",{src:URL.createObjectURL(e),alt:`Gallery ${t}`,className:"h-24 rounded-md object-cover"},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Key Highlights"}),l.valueHighlights.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Highlight",value:e,onChange:e=>f(t,e.target.value),className:"input input-bordered flex-grow"}),(0,a.jsx)("button",{type:"button",onClick:()=>y(t),className:"btn btn-error btn-sm px-3 h-8 rounded","aria-label":`Remove highlight ${t+1}`,disabled:1===l.valueHighlights.length,children:"−"}),t===l.valueHighlights.length-1&&(0,a.jsx)("button",{type:"button",onClick:v,className:"btn btn-outline btn-sm px-3 h-8 rounded","aria-label":"Add highlight",children:"+"})]},t))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Sections"}),l.sections.map((e,t)=>(0,a.jsxs)("div",{className:"border p-4 mb-4 rounded-md",children:[(0,a.jsx)("input",{type:"text",placeholder:"Section Title",value:e.title,onChange:e=>c(t,"title",e.target.value),className:"input input-bordered w-full mb-2",required:!0}),(0,a.jsx)("textarea",{placeholder:"Section Description",value:e.description,onChange:e=>c(t,"description",e.target.value),className:"input input-bordered w-full min-h-[80px]",required:!0}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>m(t),className:"btn btn-error btn-sm",disabled:1===l.sections.length,children:"Remove Section"}),t===l.sections.length-1&&(0,a.jsx)("button",{type:"button",onClick:h,className:"btn btn-outline btn-sm",children:"Add Section"})]})]},t))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-1",children:"Categories"}),l.categories.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Category",value:e,onChange:e=>g(t,e.target.value),className:"input input-bordered flex-grow"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(t),className:"btn btn-error btn-sm px-3 h-8 rounded","aria-label":`Remove category ${t+1}`,disabled:1===l.categories.length,children:"−"}),t===l.categories.length-1&&(0,a.jsx)("button",{type:"button",onClick:b,className:"btn btn-outline btn-sm px-3 h-8 rounded","aria-label":"Add category",children:"+"})]},t))]}),(0,a.jsx)("button",{type:"submit",className:`btn btn-primary w-full py-3 text-lg font-semibold ${r?"loading":""}`,disabled:r,children:r?"Creating...":"Create Campaign"})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56037:e=>{"use strict";e.exports=require("mongoose")},56154:(e,t,r)=>{Promise.resolve().then(r.bind(r,35333))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(37413),n=r(19854),s=r(41098),i=r(39916),o=r(33704);async function l(){let e=await (0,n.getServerSession)(s.N);e||(0,i.redirect)("/signin");let t=e.user,r={welcomeMessage:`Welcome back, ${t.name||t.email}!`,email:t.email??"",role:t.role??"",id:t.id??""};return(0,a.jsx)("div",{className:"relative min-h-screen bg-gray-50",children:(0,a.jsxs)("main",{className:"p-8 pb-32 overflow-y-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Dashboard"}),(0,a.jsx)("p",{className:"mb-2",children:r.welcomeMessage}),(0,a.jsxs)("p",{children:["Email: ",r.email]}),(0,a.jsxs)("p",{children:["Role: ",r.role]}),(0,a.jsx)(o.default,{})]})})}},67866:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\DAY\\\\OneDrive\\\\Desktop\\\\Neighborhood\\\\neighborhood-empowerment-funds\\\\app\\\\dashboard\\\\components\\\\FloatingNavMenu.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\DAY\\OneDrive\\Desktop\\Neighborhood\\neighborhood-empowerment-funds\\app\\dashboard\\components\\FloatingNavMenu.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>s});var a=r(37413),n=r(67866);let s={title:"Dashboard",description:"A platform that empowers communities to raise funds and support meaningful causes."};function i({children:e}){return(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)(n.default,{})]})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7719,2732,5663,589,3430,5806],()=>r(33111));module.exports=a})();