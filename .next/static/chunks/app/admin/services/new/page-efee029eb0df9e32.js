(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{2261:(e,t,a)=>{Promise.resolve().then(a.bind(a,6995))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"redirect")&&a.d(t,{redirect:function(){return r.redirect}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6995:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(5155),s=a(2115),n=a(3464),l=a(5695);function u(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)(""),[u,d]=(0,s.useState)(null),[i,c]=(0,s.useState)([""]),[o,p]=(0,s.useState)([""]),m=async a=>{if(a.preventDefault(),!u)return alert("Please select an image");let r=new FormData;r.append("title",t),r.append("image",u),i.forEach(e=>r.append("description",e)),o.forEach(e=>r.append("features",e));try{await n.A.post("/api/services",r),e.push("/admin/services")}catch(e){alert("Failed to save service."),console.error(e)}},h=(e,t,a)=>{a(a=>{let r=[...a];return r[e]=t,r})},x=e=>{e(e=>[...e,""])},b=(e,t)=>{t(t=>t.filter((t,a)=>a!==e))};return(0,r.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Add New Service"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",encType:"multipart/form-data",children:[(0,r.jsx)("input",{type:"text",placeholder:"Service Title",className:"w-full p-2 border rounded",value:t,onChange:e=>a(e.target.value),required:!0}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return d((null==(t=e.target.files)?void 0:t[0])||null)},className:"w-full p-2 border rounded",required:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"font-medium",children:"Description Paragraphs"}),i.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-2 mt-2",children:[(0,r.jsx)("textarea",{placeholder:"Paragraph ".concat(t+1),className:"w-full p-2 border rounded",value:e,onChange:e=>h(t,e.target.value,c)}),i.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>b(t,c),className:"text-red-500 text-xs bg-red-100 px-2 py-1 rounded hover:bg-red-200 transition",children:"Remove"})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>x(c),className:"text-blue-600 text-sm mt-2",children:"+ Add Paragraph"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"font-medium",children:"Key Features"}),o.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-2 mt-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Feature ".concat(t+1),className:"w-full p-2 border rounded",value:e,onChange:e=>h(t,e.target.value,p)}),o.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>b(t,p),className:"text-red-500 text-xs bg-red-100 px-2 py-1 rounded hover:bg-red-200 transition",children:"Remove"})]},t)),(0,r.jsx)("button",{type:"button",onClick:()=>x(p),className:"text-blue-600 text-sm mt-2",children:"+ Add Feature"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Save Service"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,441,684,358],()=>t(2261)),_N_E=e.O()}]);