(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1942:(e,a,s)=>{"use strict";s.d(a,{default:()=>d});var r=s(5155),n=s(2115),t=s(5695),u=s(3464),l=s(2108);function d(){let e=(0,t.useRouter)(),a=(0,t.useSearchParams)(),[s,d]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[i,o]=(0,n.useState)(""),c=a.get("callbackUrl")||"/",{status:m}=(0,l.useSession)(),[h,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"authenticated"===m?e.replace(c):"unauthenticated"===m&&p(!0)},[m,e,c]);let x=e=>{d({...s,[e.target.name]:e.target.value})},f=async a=>{if(a.preventDefault(),o(""),s.password!==s.confirmPassword)return o("Passwords do not match");try{let a=await u.A.post("/api/auth/signup",{name:s.name,email:s.email,password:s.password});201===a.status?e.push("/signin"):o(a.data.message||"Something went wrong")}catch(e){var r,n;o((null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"Error creating account")}};return h?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),i&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-4",children:i}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:s.name,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:s.confirmPassword,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:"Sign Up"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/signin",className:"text-blue-600 hover:underline",children:"Sign In"})]})})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"loader"})})}},5695:(e,a,s)=>{"use strict";var r=s(8999);s.o(r,"redirect")&&s.d(a,{redirect:function(){return r.redirect}}),s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},9685:(e,a,s)=>{Promise.resolve().then(s.bind(s,1942))}},e=>{var a=a=>e(e.s=a);e.O(0,[2108,3464,8441,1684,7358],()=>a(9685)),_N_E=e.O()}]);