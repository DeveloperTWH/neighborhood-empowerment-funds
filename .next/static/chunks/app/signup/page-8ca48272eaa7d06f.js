(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1942:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var r=s(5155),n=s(2115),t=s(5695),l=s(3464),d=s(2108);function i(){let e=(0,t.useRouter)(),a=(0,t.useSearchParams)(),[s,i]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[o,c]=(0,n.useState)(""),u=a.get("callbackUrl")||"/",{status:m}=(0,d.useSession)(),[p,h]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"authenticated"===m?e.replace(u):"unauthenticated"===m&&h(!0)},[m,e,u]);let x=e=>{i({...s,[e.target.name]:e.target.value})},w=async a=>{if(a.preventDefault(),c(""),s.password!==s.confirmPassword)return c("Passwords do not match");try{let a=await l.A.post("/api/auth/signup",{name:s.name,email:s.email,password:s.password});201===a.status?e.push("/signin"):c(a.data.message||"Something went wrong")}catch(e){var r,n;c((null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"Error creating account")}};return p?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),o&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-4",children:o}),(0,r.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"name",placeholder:"Full Name",value:s.name,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:s.confirmPassword,onChange:x,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:"Sign Up"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/signin",className:"text-blue-600 hover:underline",children:"Sign In"})]})})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"loader"})})}},9685:(e,a,s)=>{Promise.resolve().then(s.bind(s,1942))}},e=>{var a=a=>e(e.s=a);e.O(0,[108,794,441,684,358],()=>a(9685)),_N_E=e.O()}]);