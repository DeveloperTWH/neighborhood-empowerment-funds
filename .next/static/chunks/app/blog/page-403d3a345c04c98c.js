(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3831],{4186:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7012:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5155),l=a(2115),s=a(6766),c=a(6874),n=a.n(c),i=a(802);let o=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var d=a(4186),u=a(9074);function m(){let[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)([]),[c,n]=(0,l.useState)([]),[d,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(""),[g,x]=(0,l.useState)(""),[f,y]=(0,l.useState)(1),[b,w]=(0,l.useState)(1),[j,N]=(0,l.useState)("Popular"),[k,v]=(0,l.useState)(!1),A=(0,l.useRef)(null),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=setTimeout(()=>{p(d),y(1)},500);return()=>clearTimeout(e)},[d]),(0,l.useEffect)(()=>{(async()=>{v(!0);try{let e=new URLSearchParams;m&&e.append("search",m),g&&e.append("category",g),e.append("page",f.toString()),e.append("limit","9");let a=await fetch("/api/blog/list?".concat(e.toString())),r=await a.json(),l=r.posts||[];w(Math.ceil(r.total/9)),t(l)}catch(e){console.error("Failed to fetch blogs:",e)}finally{v(!1)}})()},[m,g,f]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/blog/featured"),t=await e.json();console.log("just chceking"),console.log(t.blogs),s(t.blogs||[])}catch(e){console.error("Failed to fetch featured blogs:",e)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/category"),t=await e.json();n(t||[])}catch(e){console.error("Failed to fetch categories:",e)}})()},[]),(0,l.useEffect)(()=>{A.current&&A.current.children.length>0&&requestAnimationFrame(()=>{i.Ay.fromTo(A.current.children,{opacity:0,y:30},{opacity:1,y:0,duration:.5,stagger:.1,ease:"power2.out"})})},[j,a]),(0,l.useEffect)(()=>{S.current&&S.current.children.length>0&&requestAnimationFrame(()=>{i.Ay.fromTo(S.current.children,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.3,stagger:.05,ease:"back.out(1.7)"})})},[f]);let C=[...a].sort((e,t)=>"Popular"===j?t.popularity-e.popularity:new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());return(0,r.jsx)("div",{className:"bg-white text-black",children:(0,r.jsxs)("section",{className:"max-w-screen-xl mx-auto px-4 py-16",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:["OUR FEATURED ",(0,r.jsx)("span",{className:"underline decoration-yellow-400",children:"BLOG"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:["Popular","Recent"].map(e=>(0,r.jsx)("button",{onClick:()=>N(e),className:"px-4 py-1 rounded-full text-sm border ".concat(j===e?"bg-yellow-400 text-black":"bg-white text-gray-600 border-gray-300"),children:e},e))})]}),C.length>0&&(0,r.jsx)("div",{className:"grid md:grid-cols-3 gap-6 mb-12",ref:A,children:C.map(e=>(0,r.jsx)(h,{blog:e},e._id))}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 border px-4 py-2 rounded-full bg-white mb-4",children:[(0,r.jsx)(o,{size:16,className:"text-gray-500"}),(0,r.jsx)("input",{type:"text",placeholder:"Search Blogs",value:d,onChange:e=>u(e.target.value),className:"outline-none w-full bg-transparent text-sm"})]}),(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto whitespace-nowrap text-sm",children:[(0,r.jsx)("button",{onClick:()=>{x(""),y(1)},className:"px-4 py-1 rounded-full border ".concat(""===g?"bg-yellow-400 text-black":"bg-white text-gray-600 border-gray-300"),children:"All Categories"}),c.map(e=>(0,r.jsx)("button",{onClick:()=>{x(e._id),y(1)},className:"px-4 py-1 rounded-full border ".concat(g===e._id?"bg-yellow-400 text-black":"bg-white text-gray-600 border-gray-300"),children:e.name},e._id))]})]}),(0,r.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k?(0,r.jsx)("div",{className:"col-span-full text-center py-10",children:(0,r.jsx)("span",{className:"inline-block h-6 w-6 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin"})}):e.map(e=>(0,r.jsx)(h,{blog:e},e._id))}),b>1&&(0,r.jsx)("div",{ref:S,className:"mt-10 flex justify-center gap-2 flex-wrap",children:Array.from({length:b},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>y(e),className:"w-8 h-8 rounded-full text-sm font-medium ".concat(f===e?"bg-black text-white":"bg-gray-200 text-black"),children:e},e))})]})})}let h=e=>{let{blog:t}=e;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.default,{src:t.coverImage,alt:t.title,width:400,height:250,className:"rounded-md w-full h-[220px] object-cover"}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 gap-4",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.A,{size:14})," ",t.readTime," min read"]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(u.A,{size:14})," ",new Date(t.createdAt).toLocaleDateString()]})]}),(0,r.jsx)("h3",{className:"text-sm font-semibold leading-snug",children:t.title}),(0,r.jsx)(n(),{href:"/blog/".concat(t._id),className:"text-xs text-yellow-600 font-medium hover:underline",children:"Read More â†’"})]})}},9074:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9218:(e,t,a)=>{Promise.resolve().then(a.bind(a,7012))},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),c=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:d="",children:u,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:t,...o,width:l,height:l,stroke:a,strokeWidth:c?24*Number(s)/Number(l):s,className:n("lucide",d),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:i,...o}=a;return(0,r.createElement)(d,{ref:s,iconNode:t,className:n("lucide-".concat(l(c(e))),"lucide-".concat(e),i),...o})});return a.displayName=c(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[5592,6874,6766,802,8441,1684,7358],()=>t(9218)),_N_E=e.O()}]);