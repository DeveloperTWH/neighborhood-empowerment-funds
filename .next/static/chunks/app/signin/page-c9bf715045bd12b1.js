(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4217],{2629:(e,a,s)=>{Promise.resolve().then(s.bind(s,7214))},5695:(e,a,s)=>{"use strict";var r=s(8999);s.o(r,"redirect")&&s.d(a,{redirect:function(){return r.redirect}}),s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},7214:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var r=s(5155),t=s(2115),l=s(2108),n=s(5695);function i(){let e=(0,n.useRouter)(),a=(0,n.useSearchParams)().get("callbackUrl")||"/dashboard",{data:s,status:i}=(0,l.useSession)(),[d,c]=(0,t.useState)({email:"",password:""}),[u,o]=(0,t.useState)(""),[h,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if("authenticated"===i){var a;"admin"===(null==s||null==(a=s.user)?void 0:a.role)?e.replace("/admin/dashboard"):e.replace("/dashboard")}else"unauthenticated"===i&&m(!0)},[i,s,e]);let p=e=>{c({...d,[e.target.name]:e.target.value})},x=async s=>{s.preventDefault(),o("");let r=await (0,l.signIn)("credentials",{redirect:!1,email:d.email,password:d.password,callbackUrl:a});(null==r?void 0:r.error)?o("Invalid email or password"):e.replace("/redirect-by-role")};return h?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),u&&(0,r.jsx)("p",{className:"text-red-500 text-sm mb-4",children:u}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:d.email,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:d.password,onChange:p,required:!0,className:"w-full px-4 py-2 border rounded"}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Sign In"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{children:["Donâ€™t have an account?"," ",(0,r.jsx)("a",{href:"/signup",className:"text-blue-600 hover:underline",children:"Sign Up"})]})}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("button",{onClick:()=>{(0,l.signIn)("google",{callbackUrl:"/redirect-by-role"})},className:"w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-100 flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[(0,r.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.9 0 6.7 1.6 8.2 2.9l6.1-6.1C34.4 2.7 29.7 1 24 1 14.6 1 6.7 6.9 3.1 15.1l7.3 5.6C12.3 14 17.6 9.5 24 9.5z"}),(0,r.jsx)("path",{fill:"#4285F4",d:"M46.1 24.5c0-1.5-.1-2.5-.4-3.6H24v7h12.7c-.6 3.2-2.4 5.8-4.9 7.6v6.3h7.9c4.6-4.2 7.4-10.5 7.4-17.3z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M10.4 28.5c-.5-1.5-.8-3.1-.8-4.5s.3-3.1.8-4.5L3.1 14c-1.7 3.4-2.6 7.3-2.6 11.5s.9 8.1 2.6 11.5l7.3-5.5z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M24 47c6.5 0 11.9-2.1 15.8-5.6l-7.9-6.3c-2.2 1.5-5.1 2.3-7.9 2.3-6.4 0-11.8-4.5-13.6-10.6l-7.3 5.5C6.7 41.1 14.6 47 24 47z"}),(0,r.jsx)("path",{fill:"none",d:"M1 1h46v46H1z"})]}),"Continue with Google"]})})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,r.jsx)("div",{className:"loader"})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2108,8441,1684,7358],()=>a(2629)),_N_E=e.O()}]);